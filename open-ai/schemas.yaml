completion:
  type: object
  properties:
    id:
      type: string
      example: cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7
    object:
      type: string
      example: text_completion
    created:
      type: integer
      description: Unix Seconds.
      example: 1624492800
    model:
      type: string
      example: davinci:2020-05-03
    choices:
      type: array
      items:
        type: object
        properties:
          text:
            type: string
          index:
            type: integer
          logprobs:
            type: integer
            nullable: true
          finish_reason:
            type: string
        additionalProperties: false
        required:
          - text
          - index
          - logprobs
          - finish_reason
      example:
        - text: " there was a girl who"
          index: 0
          logprobs: null
          finish_reason: length
  additionalProperties: false
  required:
    - id
    - object
    - created
    - model
    - choices

engine:
  type: object
  properties:
    id:
      type: string
      example: davinci
    object:
      type: string
      example: engine
    owner:
      type: string
      example: openai
    ready:
      type: boolean
    created:
      type: integer
      description: Unix Seconds.
      nullable: true
      example: 1624492800
    max_replicas:
      type: integer
      nullable: true
    ready_replicas:
      type: boolean
      nullable: true
    # replicas? permissions?
  additionalProperties: false
  required:
    - id
    - object
    - owner
    - ready
    - created
    - max_replicas
    - ready_replicas

file:
  type: object
  properties:
    id:
      type: string
      example: file-ccdDZrC3iZVNiQVeEA6Z66wf
    object:
      type: string
      example: file
    bytes:
      type: integer
      example: 175
    created_at:
      type: integer
      description: Unix Seconds.
      example: 1624492800
    filename:
      type: string
      example: train.jsonl
    purpose:
      $ref: '#/purpose'
  additionalProperties: false
  required:
    - id
    - object
    - bytes
    - created_at
    - filename
    - purpose

logitBias:
  type: object
  additionalProperties:
    type: number
    minimum: -100
    maximum: 100
  nullable: true
  description: |
    Modify the likelihood of specified tokens appearing in the completion.

    Accepts a json object that maps tokens (specified by their token ID in the GPT tokenizer) to an associated bias value from -100 to 100.
    You can use this [tokenizer tool](https://beta.openai.com/tokenizer?view=bpe) (which works for both GPT-2 and GPT-3) to convert text to token IDs.
    Mathematically, the bias is added to the logits generated by the model prior to sampling.
    The exact effect will vary per model, but values between -1 and 1 should decrease or increase likelihood of selection; values like -100 or 100 should result in a ban or exclusive selection of the relevant token.

    As an example, you can pass `{"50256": -100}` to prevent the <|endoftext|> token from being generated.

purpose:
  enum:
    - answers
    - classifications
    - search
  description:
    The intended purpose of the uploaded documents.

    Use "search" for [Search](https://beta.openai.com/docs/api-reference/searches), "answers" for [Answers](https://beta.openai.com/docs/api-reference/answers) and "classifications" for [Classifications](https://beta.openai.com/docs/api-reference/classifications).
    This allows us to validate the format of the uploaded file.
